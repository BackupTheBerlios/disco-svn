<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Test</title>
<link type="text/css" href="../style/discostyle.css" rel="stylesheet" />
<script src="../scripts/util.js" type="text/javascript"></script>
<script src="../scripts/uri.js" type="text/javascript"></script>
<script src="../scripts/term.js" type="text/javascript"></script>
<script src="../scripts/match.js" type="text/javascript"></script>
<script src="../scripts/rdfparser.js" type="text/javascript"></script>
<script src="../scripts/identity.js" type="text/javascript"></script>

<script src="../scripts/log.js" type="text/javascript"></script>

<script src="../scripts/parse-test.js" type="text/javascript"></script>
<script src="../scripts/widget-factory.js" type="text/javascript"></script>

<script src="../scripts/rdfxmlserializer.js" type="text/javascript"></script>

<script type="text/javascript">
	
	function doStuff() {
		// 1 is a TitledContent
		WidgetFactory.create(new RDFSymbol('http://example.org/disco/1'), document.getElementById('place'));
		// 2 is a XHTMLInfoDB
		// WidgetFactory.create(new RDFSymbol('http://example.org/disco/2'), document.getElementById('place'));
		// 6 is a OrderedContent
		// WidgetFactory.create(new RDFSymbol('http://example.org/disco/6'), document.getElementById('place'));
		
		
		document.getElementById('textout').value = 
			new XMLSerializer().serializeToString(RDFXMLSerializer.serialize(load('sample1b.rdf')));
	}
	
	function putData() {
		var xhr = Util.XMLHTTPFactory();
		xhr.open("PUT", "sample1b.rdf", false);
		xhr.setRequestHeader("Content-Type", "appication/rdf+xml");
		xhr.send(new XMLSerializer().serializeToString(RDFXMLSerializer.serialize(load('sample1b.rdf'))));
		alert(xhr.responseText);
	}
	
	</script>

</head>
<body onload="doStuff()">

<div id="place" />
<h2>serialization</h2>
<textarea id="textout" cols="90" rows="50" readonly="readonly"/>
<button onclick="putData()">PUT</button>
</body>
</html>

